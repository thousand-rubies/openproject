<ng-container
  *ngFor="let crumb of viewModel.crumbs; let i = index; let last = last; let first = first"
>
  <div
    *ngIf="(first && !last) || i === viewModel.crumbs.length - 2 || i === viewModel.crumbs.length - 3 "
    class="spot-breadcrumbs--crumb"
    [ngClass]="{'spot-breadcrumbs--crumb_shrink': !first, 'hidden-for-mobile': !first && i !== viewModel.crumbs.length - 2 }"
  >
    <button
      type="button"
      class="spot-link spot-breadcrumbs--crumb-action-item"
      [title]="crumb.text"
    >
      <span *ngIf="crumb.icon" class="spot-icon spot-icon_{{crumb.icon}}"></span>
      <span class="hidden-for-mobile" [textContent]="crumb.text"></span>
      <span class="hidden-for-desktop" [textContent]="'...'"></span>
    </button>

    <span class="spot-breadcrumbs--crumb-divider spot-icon spot-icon_arrow-right5"></span>
  </div>

  <div
    *ngIf="i === 1 && viewModel.crumbs.length > 4"
    class="spot-breadcrumbs--crumb hidden-for-mobile"
  >
    <span
      class="spot-breadcrumbs--crumb-action-item"
      [textContent]="'...'"
    ></span>

    <span class="spot-breadcrumbs--crumb-divider spot-icon spot-icon_arrow-right5"></span>
  </div>

  <div
    *ngIf="last"
    class="spot-breadcrumbs--crumb"
  >
    <span *ngIf="crumb.icon" class="spot-icon spot-icon_{{crumb.icon}}"></span>
    <span
      class="spot-breadcrumbs--crumb-action-item"
      [textContent]="crumb.text"
    ></span>
  </div>
</ng-container>
